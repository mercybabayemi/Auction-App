{% extends "base.html" %}

{% block title %}Auctions - Auction App{% endblock %}

{% block content %}
<div class="auction-container">
    {% with header_title='Live Auctions', show_create_btn=True %}
        {% include 'partials/auction_header.html' %}
    {% endwith %}

    {% if not (is_authenticated() or (current_user and current_user.is_active)) %}
        <div class="not-authorized">
            <p>You must <a href="{{ url_for('auth_router.login') }}">Login</a> or
            <a href="{{ url_for('auth_router.register') }}">Register</a> to view live auctions.</p>
        </div>
    {% else %}
        {% include 'partials/auction_filter.html' %}
        <div class="auction-list">
            {% if auctions %}
                {%  for auction in auctions %}
                    {%  include 'partials/auction_card.html' %}
                {%  endfor %}
            {% else %}
                <div class="no-auctions">
                    <p>No auctions found. {% if is_authenticated() %} <a href="{{ url_for('auction_router.create_auction') }}">create one</a>{% endif %}</p>
                </div>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock %}

{% block extra_styles %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
{% endblock %}